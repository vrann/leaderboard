var elasticsearch = require('elasticsearch');

module.exports = EsBuilder

 function EsBuilder(elasticsearchEndpoint) {
    var client = new elasticsearch.Client({
        host: elasticsearchEndpoint,
        //log: 'trace'
    });

    client.ping({
        // ping usually has a 3000ms timeout
        requestTimeout: 1000
        }, function (error) {
        if (error) {
            console.trace('elasticsearch cluster is down!');
        } else {
            console.log('All is well');
        }
    });

    return client;
}