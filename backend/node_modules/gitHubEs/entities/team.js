var member = {
        getCreateObject: function(data, updateData, config) {
            updateObject  = this.getUpdateObject(data, updateData, config)
            Object.keys(updateObject).map(function(key, index) {
                data[key] = updateObject[key];
            });
            return data
        },

        getUpdateObject: function(document, updateData, config) {
            updateObject = {}
            members = document.hasOwnProperty('members') ? document.members : [];
            if (updateData.hasOwnProperty('members')) {
                updateData.members.map(function(memberId){
                    if (!members.find(function(element) {return element == memberId})) {
                        members.push(memberId);
                        updateObject.members = members;
                    }
                });
            }
            return updateObject;
        }
}

module.exports = member;